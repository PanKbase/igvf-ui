/* Import Tailwind CSS base, components, and utilities */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Global variables - combining both scripts */
:root {
  /* Variables from script 2 */
  --color-background: #f8f8f8;
  --color-brand: #219197;
  --color-brand-black: #2d2e2f;
  --color-brand-disabled: #dddddd;
  --color-brand-accent: #94c95e;
  --color-brand-highlight: #0c5357;
  --color-data-background: #ffffff;
  --color-data-header-background: #e0e0e0;
  --color-data-border: #dddddd;
  --color-data-list-item-border: #e5e7eb;
  --color-collapse-ctrl-border: #e5e7eb;
  --color-collapse-ctrl-text: #ba4d9c;
  --color-collapse-ctrl-background: #f3f4f6;

  --color-panel-background: #fff;
  --color-panel-border: #d0d0d0;

  --color-button-primary-background: #219197;
  --color-button-secondary-background: #94c95e;
  --color-button-warning-background: #990f12;
  --color-button-selected-background: #d3dfff;
  --color-button-primary-border: #384977;
  --color-button-secondary-border: #384977;
  --color-button-warning-border: #661416;
  --color-button-selected-border: #384977;
  --color-button-primary-label: #ffffff;
  --color-button-secondary-label: #384977;
  --color-button-warning-label: #ffffff;
  --color-button-selected-label: #000000;

  --color-button-primary-background-disabled: #dddddd;
  --color-button-secondary-background-disabled: transparent;
  --color-button-warning-background-disabled: #b26b6c;
  --color-button-selected-background-disabled: transparent;
  --color-button-primary-border-disabled: #7f80bc;
  --color-button-secondary-border-disabled: #2d2e2f;
  --color-button-warning-border-disabled: #804041;
  --color-button-selected-border-disabled: #2d2e2f;
  --color-button-primary-label-disabled: #e8e8e8;
  --color-button-secondary-label-disabled: #2d2e2f;
  --color-button-warning-label-disabled: #d8d8d8;
  --color-button-selected-label-disabled: #2d2e2f;

  --color-button-audit-open-background: #d1fae5;
  --color-button-audit-closed-background: #ffffff;
  --color-audit-border: #a0a0a0;
  --color-button-audit-level-detail: #f0f0f0;
  --color-audit-background: var(--color-button-audit-closed-background);
  --color-audit-level-detail-background: #d0d0d0;
  --color-audit-error-fill: #f53333;
  --color-audit-warning-fill: #fad50c;
  --color-audit-not-compliant-fill: #f57b18;
  --color-audit-internal-action-fill: #1b84fa;
  --color-audit-facet-fill: var(--color-audit-background);
  --color-audit-error-background: #ffb2b2;
  --color-audit-warning-background: #fff4b2;
  --color-audit-not-compliant-background: #ffd5b2;
  --color-audit-internal-action-background: #b2d6ff;

  --color-facet-group-button-background: #219197;
  --color-facet-group-button-selected-background: #94c95e;
  --color-facet-group-button-border: #2d2e2f;
  --color-facet-group-button-selected-border: #2d2e2f;
  --color-facet-group-icon-background: #2d2e2f;
  --color-facet-group-icon-stroke: #2d2e2f;
  --color-facet-group-button-selected-text: #2d2e2f;
  --color-facet-group-button-border: #d1d5db;
  --color-facet-group-button-text: #2d2e2f;

  --color-facet-title-background: #219197;
  --color-facet-title-text: #2d2e2f;

  --color-facet-tag-background: #a7f3d0;
  --color-facet-tag-border: #34d399;
  --color-facet-tag-neg-background: #fecdd3;
  --color-facet-tag-neg-border: #fb7185;
  --color-facet-tag-text: #374151;

  --color-facet-filter-icon-stroke: #85abd6;
  --color-facet-filter-icon-fill: transparent;
  --color-facet-filter-icon-set-stroke: #ffffff;
  --color-facet-filter-icon-set-fill: #85abd6;
  --color-facet-clear-filter-icon-fill: #85abd6;
  --color-facet-filter-input-border: #85abd6;
  --color-facet-filter-input-border-focus: #000000;
  --color-facet-filter-input-text: #85abd6;
  --color-facet-filter-input-text-focus: #000000;

  --color-tab-group-border: #d0d0d0;
  --color-tab-selected-border: #3b82f6;
  --color-tab-unselected-border: transparent;
  --color-tab-disabled-border: transparent;
  --color-tab-hover-border: #bfdbfe;
  --color-tab-title-selected-text: #2563eb;
  --color-tab-title-unselected-text: #1f2937;
  --color-tab-title-disabled-text: #000000;
  --color-tab-title-hover-text: #1f2937;

  --color-json-panel-border: #d1d5db;

  --color-schema-prop-text: #1d4ed8;
  --color-schema-prop-description-text: #374151;

  --color-schema-prop-type-bg-string: #bbf7d0;
  --color-schema-prop-type-bg-number: #bfdbfe;
  --color-schema-prop-type-bg-integer: #a5f3fc;
  --color-schema-prop-type-bg-boolean: #fef08a;
  --color-schema-prop-type-bg-array: #e9d5ff;
  --color-schema-prop-type-bg-object: #fbcfe8;
  --color-schema-prop-type-bg-link: #fed7aa;
  --color-schema-prop-type-bg-null: #e5e7eb;
  --color-schema-prop-type-bg-default: transparent;
  --color-schema-prop-type-border-string: #22c55e;
  --color-schema-prop-type-border-number: #3b82f6;
  --color-schema-prop-type-border-integer: #06b6d4;
  --color-schema-prop-type-border-boolean: #eab308;
  --color-schema-prop-type-border-array: #a855f7;
  --color-schema-prop-type-border-object: #ec4899;
  --color-schema-prop-type-border-link: #f97316;
  --color-schema-prop-type-border-null: #6b7280;
  --color-schema-prop-type-border-default: #64748b;
  --color-schema-prop-type-text-string: #166534;
  --color-schema-prop-type-text-number: #1e40af;
  --color-schema-prop-type-text-integer: #155e75;
  --color-schema-prop-type-text-boolean: #854d0e;
  --color-schema-prop-type-text-array: #6b21a8;
  --color-schema-prop-type-text-object: #9d174d;
  --color-schema-prop-type-text-link: #9a3412;
  --color-schema-prop-type-text-null: #1f2937;
  --color-schema-prop-type-text-default: #1f2937;

  --color-indexed-state-background: #4ade80;
  --color-indexed-state-border: #22c55e;
  --color-indexed-state-content: #f0fdf4;
  --color-indexing-state-background: #fb923c;
  --color-indexing-state-border: #f97316;
  --color-indexing-state-content: #7c2d12;

  --color-schema-name-highlight-background: #fde047;
  --color-schema-search-background: #f0f7ff;

  --color-site-search-header-background: #c9ebe2;

  --color-form-element-background: #ffffff;
  --color-form-element-border: #384977;
  --color-form-element-label: #000000;
  --color-form-element-border-disabled: #b1bad3;
  --color-form-element-label-disabled: #a0a0a0;

  --color-data-header-background: #e0e0e0;

  --color-highlight: #c0c0c0;
  --color-highlight-border: #a0a0a0;
  --color-title-border: #6b7280;

  --color-nav-highlight: #e0e0e0;
  --color-nav-border: #d0d0d0;

  --color-data-title: #6b7280;
  --color-data-label: #6b7280;
  --color-data-value: #2d2e2f;

  --color-tooltip-code-background: #9ca3af;
  --color-tooltip-code-text: #000000;

  /** Navigation collapse button */
  --color-nav-collapse: #85abd6;

  /** Document tag colors */
  --color-document-autosql: #ca0032;
  --color-document-html: #487998;
  --color-document-json: #6d326d;
  --color-document-pdf: #b30b00;
  --color-document-svs: #ca6680;
  --color-document-txt: #465a9a;
  --color-document-tiff: #dd6e42;
  --color-document-tsv: #a50104;
  /** File graph node colors */
  --color-file-graph-analysis: #faafff;
  --color-file-graph-auxiliary: #60fa72;
  --color-file-graph-construct-library: #ff84aa;
  --color-file-graph-curated: #faac60;
  --color-file-graph-measurement: #7cc0ff;
  --color-file-graph-model: #f5fa60;
  --color-file-graph-prediction: #60f5fa;
  --color-file-graph-unknown: #c0c0c0;
  /** Modal borders */
  --color-modal-border: #cecfd3;

  /** Typography */
  --color-code-background: #e0e0e0;
  --color-code-text: #1e1e1f;

  --color-button-text-info: #000000;
  /* Variables from script 4 */
  --pkb-primary-green: #219197;
  --pkb-secondary-green: #94c95e;
  --pkb-black: #2d2e2f;
  --pkb-disabled-grey: #dddddd;
}

/* Base styles */
@layer base {
  html,
  body {
    height: 100vh;
    font-family: "Open Sans", sans-serif;
    margin: 0;
    padding: 0;
    font-size: 14px;
    min-height: 100vh;
    width: fit-content;
    min-width: 100%;
    display: flex;
    flex-direction: column;
  }

  a {
    color: inherit;
    text-decoration: none;
  }

  * {
    box-sizing: border-box;
  }

  /* Remove automatic 'x' icon from search inputs */
  /* https://developer.mozilla.org/en-US/docs/Web/CSS/::-webkit-search-cancel-button */
  [type="search"]::-webkit-search-cancel-button {
    appearance: none;
  }

  /* <code> elements within role="tooltip" should have a different background color */
  [role="tooltip"] code {
    background-color: var(--color-tooltip-code-background);
    color: var(--color-tooltip-code-text);
  }
}

/* Component styles - now properly scoped to avoid conflicts */
@layer components {
  .form-element-height-sm {
    min-height: 1.25rem;
  }

  .form-element-height-md {
    min-height: 1.75rem;
  }

  .form-element-height-lg {
    min-height: 2.5rem;
  }

  .md\:container {
    max-width: 100% !important; /* Force container width to 100% */
    width: 100% !important; /* Ensure it stretches fully */
    padding-left: 0 !important; /* Ensure it stretches fully */
    padding-right: 0 !important; /* Ensure it stretches fully */
  }

  .header-flex {
    position: sticky;
    top: 0;
    z-index: 50;
    background-color: white;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }

  /* HEADER STYLES - Isolated with proper namespace to prevent conflicts */
  /* All header styles are now prefixed with .pkb-header to isolate them */
  .pkb-nav {
    position: relative;
    width: 100%;
    background: #fafafa;
    display: flex;
    justify-content: space-between;
    padding: 5px 20px 0 15px;
    border-bottom: 2px solid var(--pkb-primary-green);
    box-shadow: 0px 2px 5px var(--pkb-primary-green);
    font-family: "Open Sans", sans-serif;
    font-size: 14px;
    z-index: 10;
  }

  .pkb-nav .logo {
    display: flex;
    align-items: baseline;
    cursor: pointer;
    align-self: center;
  }

  .pkb-nav .logo-text {
    position: relative;
    font-weight: 800;
    font-size: 18px;
    color: var(--pkb-primary-green);
    margin-left: -10px;
  }

  .pkb-nav .logo-super {
    position: absolute;
    bottom: 17px;
    right: 0;
    font-weight: 500;
    font-size: 11px;
    color: var(--pkb-secondary-green);
  }

  .pkb-nav .menu-wrapper {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 5px;
  }

  .pkb-nav .topmenu {
    display: flex;
    align-items: center;
    gap: 0px;
  }

  .pkb-nav .topmenu-item {
    color: var(--color-brand-black);
    padding: 5px 10px;
    display: flex;
    align-items: center;
    gap: 5px;
    font-size: 12px;
    cursor: pointer;
  }

  .pkb-nav .topmenu-item:hover {
    color: var(--color-brand-accent) !important;
  }

  .pkb-nav .topmenu-item:hover svg *,
  .pkb-nav .topmenu-item:hover img {
    stroke: var(--color-brand-accent) !important;
  }

  .pkb-nav .menu-separator {
    color: var(--pkb-primary-green);
    margin: 0 5px;
    font-weight: 600;
  }

  .pkb-nav .separator {
    color: var(--pkb-primary-green);
    margin: 0 4px;
    font-weight: 600;
  }

  .pkb-nav .menu {
    display: flex;
    font-weight: 600;
  }

  /* Main menu items with divider (script 3 style) */
  .pkb-nav .main-menu-items {
    display: flex;
    position: relative;
    padding-right: 2px;
  }

  .pkb-nav .main-menu-items:after {
    content: "";
    position: absolute;
    top: 7px;
    right: 0px;
    width: 2px;
    background-color: var(--pkb-primary-green);
    height: 50%;
  }

  .pkb-nav .menu-item-wrapper {
    position: relative;
    display: flex;
  }

  .pkb-nav .menu-item {
    position: relative;
    padding: 5px 10px;
    cursor: pointer;
    border-radius: 10px 10px 0 0;
    font-weight: 600;
    color: var(--color-brand-black);
    border-bottom: 5px solid transparent;
  }

  .pkb-nav .menu-item.menu-item-selected {
    color: var(--pkb-primary-green);
    border-bottom: 5px solid var(--pkb-primary-green);
  }

  .pkb-nav .menu-item.menu-item-main {
    color: var(--pkb-primary-green) !important;
  }

  .pkb-nav .menu-item-wrapper:hover .menu-item,
  .pkb-nav .menu-item-wrapper.active .menu-item,
  .pkb-nav .menu-item-wrapper:has(.submenu-item.active) .menu-item {
    color: var(--pkb-primary-green) !important;
    border-bottom: 5px solid var(--pkb-primary-green);
  }

  .pkb-nav .submenu {
    position: absolute;
    top: 100%;
    right: 0;
    background: var(--color-brand-accent);
    padding: 10px 10px 15px 15px;
    border-radius: 0 0 10px 10px;
    width: max-content;
    flex-direction: column;
    align-items: flex-end;
    gap: 5px;
    display: none;
    border-top: 2px solid var(--pkb-primary-green);
    box-shadow: inset 0 7px 5px -5px var(--pkb-primary-green);
  }

  .pkb-nav .pkb-beta {
    height: 20px;
    width: auto;
    line-height: 16px;
    background: #219197;
    color: white;
    padding: 2px 15px 0;
    position: absolute;
    bottom: -20px;
    left: 19px;
    mix-blend-mode: multiply;
  }

  .pkb-nav .menu-item-wrapper:hover > .submenu {
    display: flex;
    flex-direction: column;
  }

  .pkb-nav .submenu-item {
    width: -webkit-fill-available;
    text-align: right;
    color: var(--color-brand-black);
  }

  .pkb-nav .submenu-item:hover,
  .pkb-nav .submenu-item.active {
    color: white !important;
    cursor: pointer;
  }

  /* Footer styles from script 2 - preserved but properly scoped */
  .pkb-footer {
    width: 100%;
    background: #fafafa;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 40px 20px;
    border-top: 3px solid var(--pkb-primary-green);
    box-shadow: 0px 2px 10px var(--pkb-primary-green);
    min-height: 70px;
    margin-top: auto;
    gap: 40px;
    font-size: 14px;
    flex-direction: column;
  }

  .pkb-footer .menu-footer {
    display: flex;
    gap: 20px;
  }

  .pkb-footer .menu-footer a,
  .pkb-footer .menu-footer a:visited {
    color: black !important;
  }

  .pkb-footer .menu-footer a:hover {
    color: var(--color-brand-accent) !important;
    text-decoration: none;
  }

  .pkb-footer .menu-item-wrapper-footer {
    display: flex;
    flex-direction: column;
  }

  .pkb-footer .submenu-footer {
    display: flex;
    flex-direction: column;
  }

  .pkb-footer a.submenu-item-footer {
    font-weight: normal;
  }

  .pkb-footer .menu {
    display: flex;
    gap: 20px;
  }

  .pkb-footer .menu a,
  .pkb-footer .menu a:visited {
    color: var(--pkb-black) !important;
  }

  .pkb-footer .menu a:hover {
    color: var(--pkb-secondary-green) !important;
    text-decoration: none;
  }

  .pkb-footer .menu-item-wrapper {
    display: flex;
    flex-direction: column;
  }

  .pkb-footer .submenu {
    display: flex;
    flex-direction: column;
  }

  .pkb-footer a.submenu-item {
    font-weight: normal;
  }

  .pkb-footer .menu-item.menu-item-main {
    color: var(--pkb-primary-green) !important;
    font-weight: 600;
  }

  .pkb-footer .f-row {
    display: flex;
    align-items: center;
  }

  .pkb-footer .align-v-center {
    align-items: center;
  }

  /* Social media icons styling */
  .pkb-footer .logos img {
    width: 20px;
  }

  .pkb-footer .logos a {
    opacity: 0.7;
  }

  .pkb-footer .logos a:hover {
    opacity: 1;
  }
}

/* Additional styles from script 4 - these are general layout styles, not specific to header */
.pkb-wrapper {
  flex: 1;
}

.pkb-body {
  padding: 40px;
  max-width: 1400px;
  width: 100%;
}

.box {
  background: #fafafa;
  border: 1px solid #ddd;
  padding: 20px;
  border-radius: 10px;
  margin: 0 0 10px 0;
  position: relative;
  display: flex;
  gap: 10px;
}

/* Element styles from script 4 - general styles, not specific to header */
h1 {
  font-size: 34px;
  line-height: 42px;
  letter-spacing: -1.5px;
  margin: 0;
}

h2 {
  font-size: 28px;
  line-height: 36px;
  letter-spacing: -0.8px;
  margin: 0;
}

h3 {
  font-size: 24px;
  line-height: 32px;
  letter-spacing: -0.6px;
  margin: 0;
}

h4 {
  font-size: 20px;
  line-height: 28px;
  letter-spacing: -0.4px;
  margin: 0;
}

h1,
h2,
h3,
h4 {
  color: var(--pkb-black);
  position: relative;
}

.bold {
  font-weight: 600;
}

.small {
  font-size: 12px;
}

/* Link styles - with more specific selectors to prevent conflicts */
a {
  color: var(--pkb-primary-green) !important; /* Primary green for links */
  text-decoration: none;
}

a:hover {
  color: var(
    --color-brand-highlight
  ) !important; /* Highlight color for link hover */
}

/* Header-specific link overrides - now properly scoped */
.pkb-nav a,
.pkb-nav a:visited {
  color: var(--color-brand-black) !important;
}

.pkb-nav .menu-item.menu-item-main,
.pkb-nav .menu-item.menu-item-main:visited {
  color: var(--pkb-primary-green) !important;
}

.pkb-nav .menu-item-wrapper:hover .menu-item,
.pkb-nav .menu-item-wrapper.active .menu-item {
  color: var(--pkb-primary-green) !important;
}

.pkb-nav .submenu-item:hover,
.pkb-nav .submenu-item.active {
  color: white !important;
}

/* Button styles from script 4 */
button.pkb {
  border: 1px solid var(--pkb-secondary-green);
  background: white;
  width: fit-content;
  padding: 5px 10px;
  border-radius: 10px;
  font-family: "Open Sans";
  cursor: pointer;
}

button.pkb:not(:disabled):hover {
  background: var(--pkb-secondary-green);
  color: white;
}

button.pkb.alt1 {
  background: var(--pkb-secondary-green);
}

button.pkb.alt1:not(:disabled):hover {
  border: 1px solid var(--pkb-primary-green);
  background: var(--pkb-primary-green);
}

button.pkb:disabled {
  border: 1px solid var(--pkb-disabled-grey);
  background: var(--pkb-disabled-grey);
  cursor: default;
}

button.pkb.selected {
  background: var(--pkb-secondary-green);
  color: white;
  cursor: default;
}

/* Select styles - From Vue */
select.pkb {
  padding: 5px 10px;
  padding-right: 40px;
  font-family: "Open Sans";
  border: 1px solid var(--pkb-secondary-green);
  border-radius: 10px;
  appearance: none;
  cursor: pointer;
  background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 6" fill="none" stroke="black" stroke-width="1.5"><path d="M1 1l4 4 4-4"/></svg>')
    no-repeat right 10px center;
  background-size: 10px;
  width: fit-content;
}

select.pkb:hover {
  color: white;
  background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 6" fill="none" stroke="white" stroke-width="1.5"><path d="M1 1l4 4 4-4"/></svg>')
    no-repeat right 10px center;
  background-color: var(--pkb-secondary-green);
  background-size: 10px;
  border: 1px solid var(--pkb-secondary-green);
}

/* Checkbox styles - From Vue */
input.pkb[type="checkbox"] {
  width: 15px;
  height: 15px;
  padding: 0;
  border: 1px solid var(--pkb-secondary-green);
  border-radius: 25%;
  appearance: none;
  outline: none;
  transition: outline 0.1s;
  margin: 0;
  cursor: pointer;
}

input.pkb[type="checkbox"]:checked {
  background-size: 60%;
  background-repeat: no-repeat;
  background-position: center;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="20" viewBox="0 0 32 32" xml:space="preserve"><path style="fill: white" d="M11.941,28.877l-11.941-11.942l5.695-5.696l6.246,6.246l14.364-14.364L32,8.818"/></svg>');
}

input.pkb[type="checkbox"]:not(:disabled):checked {
  background-color: var(--pkb-primary-green);
  border-color: var(--pkb-primary-green);
}

input.pkb[type="checkbox"]:disabled {
  background-color: var(--pkb-disabled-grey);
  border-color: var(--pkb-disabled-grey);
  cursor: default;
}

input.pkb[type="checkbox"]:disabled:checked {
  background-color: var(--pkb-disabled-grey);
  border-color: var(--pkb-disabled-grey);
}

@media (hover: hover) {
  input.pkb[type="checkbox"]:not(:disabled):hover {
    background-color: var(--pkb-secondary-green);
    border-color: var(--pkb-secondary-green);
  }
}

/* Radio button styles - From Vue */
input.pkb[type="radio"] {
  width: 15px;
  height: 15px;
  padding: 0;
  border: 1px solid var(--pkb-secondary-green);
  border-radius: 50%;
  appearance: none;
  outline: none;
  transition: outline 0.1s;
  margin: 0;
  cursor: pointer;
}

input.pkb[type="radio"]:checked:after {
  content: "";
  display: block;
  width: 60%;
  aspect-ratio: 1;
  background: white;
  border-radius: 50%;
  margin: 20%;
}

input.pkb[type="radio"]:not(:disabled):checked {
  background-color: var(--pkb-primary-green);
  border-color: var(--pkb-primary-green);
}

input.pkb[type="radio"]:disabled {
  background-color: var(--pkb-disabled-grey);
  border-color: var(--pkb-disabled-grey);
  cursor: default;
}

input.pkb[type="radio"]:disabled:checked {
  background-color: var(--pkb-disabled-grey);
  border-color: var(--pkb-disabled-grey);
}

@media (hover: hover) {
  input.pkb[type="radio"]:not(:disabled):hover {
    background-color: var(--pkb-secondary-green);
    border-color: var(--pkb-secondary-green);
  }
}

/* Additional Vue styles */
.page-title {
  margin-bottom: 25px;
}

.page-info {
  font-size: 18px;
}

tr.upregulated {
  border-left: 5px solid red !important;
}

tr.downregulated {
  border-left: 5px solid blue !important;
}

/* Dark mode support from script 2 */
/* Header-specific dark mode styles */
.dark .pkb-nav {
  background: #111827; /* Dark background color */
  border-bottom: 2px solid var(--pkb-primary-green);
  box-shadow: 0px 2px 5px rgba(33, 145, 151, 0.5);
}

.dark .pkb-nav .logo-text {
  color: var(--pkb-primary-green);
}

.dark .pkb-nav .topmenu-item {
  color: #e5e7eb; /* Light text for dark mode */
}

.dark .pkb-nav .topmenu-item:hover {
  color: var(--pkb-secondary-green) !important;
}

.dark .pkb-nav .menu-separator,
.dark .pkb-nav .separator {
  color: var(--pkb-primary-green);
}

.dark .pkb-nav .menu-item {
  color: #e5e7eb; /* Light text for dark mode */
}

.dark .pkb-nav .menu-item.menu-item-main {
  color: var(--pkb-primary-green) !important;
}

.dark .pkb-nav .menu-item-wrapper:hover .menu-item,
.dark .pkb-nav .menu-item-wrapper.active .menu-item {
  color: var(--pkb-primary-green) !important;
  border-bottom: 5px solid var(--pkb-primary-green);
}

.dark .pkb-nav .submenu {
  background: #1f2937; /* Darker background for submenu */
  border-top: 2px solid var(--pkb-primary-green);
  box-shadow: inset 0 7px 5px -5px var(--pkb-primary-green);
}

.dark .pkb-nav .submenu-item {
  color: #e5e7eb;
}

.dark .pkb-nav .submenu-item:hover,
.dark .pkb-nav .submenu-item.active {
  color: var(--pkb-secondary-green) !important;
}

/* Update link colors for dark mode */
.dark .pkb-nav a,
.dark .pkb-nav a:visited {
  color: #e5e7eb !important;
}

.dark .pkb-nav .menu-item.menu-item-main,
.dark .pkb-nav .menu-item.menu-item-main:visited {
  color: var(--pkb-primary-green) !important;
}

/* Ensure the beta tag is visible in dark mode */
.dark .pkb-nav .pkb-beta {
  background: #219197;
  color: white;
}

/* Media queries for responsive design - properly scoped to header */
@media (max-width: 768px) {
  .pkb-nav {
    flex-direction: column;
    align-items: center;
  }

  .pkb-nav .menu-wrapper {
    width: 100%;
    align-items: center;
  }

  .pkb-nav .main-menu-items:after {
    display: none;
  }

  .pkb-nav .submenu {
    position: static;
    width: 100%;
  }

  .pkb-nav .menu-item-wrapper {
    flex-direction: column;
    align-items: center;
  }

  .pkb-nav .pkb-beta {
    position: static;
    margin-top: 10px;
    width: auto;
  }
}

/* Dark mode variables */
.dark {
  --color-background: #111827;
  --color-brand-accent: #444444;
  --color-brand-highlight: #860f2d;
  --color-data-background: #0b0f19;
  --color-data-header-background: #192339;
  --color-data-border: #2c3f66;
  --color-highlight: #2c3f66;
  --color-highlight-border: #45629f;
  --color-title-border: #6b7280;
  --color-data-list-item-border: #374151;
  --color-collapse-ctrl-border: #374151;
  --color-collapse-ctrl-text: #9ca3af;
  --color-collapse-ctrl-background: #1f2937;

  --color-panel-background: #000205;
  --color-panel-border: #4e5b75;

  --color-button-selected-background: #384977;
  --color-button-primary-border: #8facff;
  --color-button-secondary-border: #8facff;
  --color-button-selected-border: #8facff;
  --color-button-warning-border: #c93638;
  --color-button-secondary-label: #8facff;

  --color-button-primary-background-disabled: #3e4864;
  --color-button-warning-background-disabled: #6b2f30;
  --color-button-selected-background-disabled: transparent;
  --color-button-secondary-border-disabled: #5e71a8;
  --color-button-selected-border-disabled: #5e71a8;
  --color-button-primary-label-disabled: #808080;
  --color-button-secondary-label-disabled: #606060;
  --color-button-warning-label-disabled: #808080;
  --color-button-selected-label-disabled: #606060;

  --color-facet-group-button-background: #524f45;
  --color-facet-group-button-border: #998868;
  --color-facet-group-button-text: #ffffff;
  --color-facet-group-button-selected-text: #ffffff;

  --color-button-audit-open-background: #064e3b;
  --color-button-audit-closed-background: #000000;
  --color-button-audit-border: #8facff;
  --color-button-audit-level: #4e5b75;
  --color-audit-level-detail-background: #4e5b75;
  --color-button-audit-level-detail: #111827;
  --color-audit-background: #030712;
  --color-audit-facet-fill: var(--color-audit-closed-background);
  --color-audit-error-background: #4c1717;
  --color-audit-warning-background: #4c4417;
  --color-audit-not-compliant-background: #4c2f17;
  --color-audit-internal-action-background: #17304c;

  --color-facet-title-background: #536167;
  --color-facet-title-text: #ffffff;

  --color-facet-tag-background: #064e3b;
  --color-facet-tag-border: #047857;
  --color-facet-tag-neg-background: #881337;
  --color-facet-tag-neg-border: #be123c;
  --color-facet-tag-text: #e5e7eb;

  --color-facet-filter-icon-set-stroke: #000000;
  --color-facet-filter-input-border: #39495b;
  --color-facet-filter-input-text: #85abd6;
  --color-facet-filter-input-text-focus: #ffffff;

  --color-tab-group-border: #4e5b75;
  --color-tab-selected-border: #1d4ed8;
  --color-tab-unselected-border: transparent;
  --color-tab-disabled-border: transparent;
  --color-tab-hover-border: #1e3a8a;
  --color-tab-title-selected-text: #2563eb;
  --color-tab-title-unselected-text: #cbd5e1;
  --color-tab-title-disabled-text: #374151;
  --color-tab-title-hover-text: #cbd5e1;

  --color-json-panel-border: #4b5563;

  --color-schema-prop-text: #93c5fd;
  --color-schema-prop-description-text: #9ca3af;

  --color-schema-prop-type-bg-string: #14532d;
  --color-schema-prop-type-bg-number: #1e3a8a;
  --color-schema-prop-type-bg-integer: #164e63;
  --color-schema-prop-type-bg-boolean: #713f12;
  --color-schema-prop-type-bg-array: #581c87;
  --color-schema-prop-type-bg-object: #831843;
  --color-schema-prop-type-bg-link: #7c2d12;
  --color-schema-prop-type-bg-null: #111827;
  --color-schema-prop-type-bg-default: transparent;
  --color-schema-prop-type-border-string: #15803d;
  --color-schema-prop-type-border-number: #1d4ed8;
  --color-schema-prop-type-border-integer: #0e7490;
  --color-schema-prop-type-border-boolean: #a16207;
  --color-schema-prop-type-border-array: #7e22ce;
  --color-schema-prop-type-border-object: #be185d;
  --color-schema-prop-type-border-link: #c2410c;
  --color-schema-prop-type-border-null: #374151;
  --color-schema-prop-type-border-default: #64748b;
  --color-schema-prop-type-text-string: #86efac;
  --color-schema-prop-type-text-number: #7dd3fc;
  --color-schema-prop-type-text-integer: #67e8f9;
  --color-schema-prop-type-text-boolean: #fde047;
  --color-schema-prop-type-text-array: #d8b4fe;
  --color-schema-prop-type-text-object: #f9a8d4;
  --color-schema-prop-type-text-link: #fdba74;
  --color-schema-prop-type-text-null: #d1d5db;
  --color-schema-prop-type-text-default: #e5e7eb;

  --color-indexed-state-background: #14532d;
  --color-indexed-state-border: #15803d;
  --color-indexed-state-content: #22c55e;
  --color-indexing-state-background: #9a3412;
  --color-indexing-state-border: #c2410c;
  --color-indexing-state-content: #fdba74;

  --color-schema-name-highlight-background: #15803d;
  --color-schema-search-background: #25303c;

  --color-site-search-header-background: #394240;

  --color-data-header-background: #192339;

  --color-form-element-background: #000205;
  --color-form-element-border: #8facff;
  --color-form-element-label: #ffffff;
  --color-form-element-border-disabled: #5e71a8;
  --color-form-element-label-disabled: #606060;

  --color-highlight: #2c3f66;
  --color-highlight-border: #45629f;
  --color-title-border: #6b7280;

  --color-nav-highlight: #303030;
  --color-nav-border: #404040;

  --color-data-title: #9ca3af;
  --color-data-label: #9ca3af;
  --color-data-value: #ffffff;

  --color-tooltip-code-background: #6b7280;
  --color-tooltip-code-text: #ffffff;

  /** Navigation collapse button */
  --color-nav-collapse: #4b627a;

  /** Typography */
  --color-code-background: #334155;
  --color-code-text: #e5e7eb;
  /** File graph node colors */
  --color-file-graph-analysis: #faafff;
  --color-file-graph-auxiliary: #60fa72;
  --color-file-graph-construct-library: #ff84aa;
  --color-file-graph-curated: #faac60;
  --color-file-graph-measurement: #7cc0ff;
  --color-file-graph-model: #f5fa60;
  --color-file-graph-prediction: #60f5fa;
  --color-file-graph-unknown: #c0c0c0;
  /** Modal borders */
  --color-modal-border: #68799c;
}

/* Footer styles */
.pkb-footer {
  width: 100%;
  background: #fafafa;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 40px 20px;
  border-top: 3px solid var(--pkb-primary-green);
  box-shadow: 0px 2px 10px var(--pkb-primary-green);
  min-height: 70px;
  margin-top: auto;
  flex-direction: column;
  gap: 40px;
}

.pkb-footer .menu {
  display: flex;
  gap: 20px;
}

.pkb-footer .menu a,
.pkb-footer .menu a:visited {
  color: var(--pkb-black) !important;
}

.pkb-footer .menu a:hover {
  color: var(--pkb-secondary-green) !important;
  text-decoration: none;
}

.pkb-footer .menu-item-wrapper {
  display: flex;
  flex-direction: column;
}

.pkb-footer .submenu {
  display: flex;
  flex-direction: column;
}

.pkb-footer a.submenu-item {
  font-weight: normal;
}

.pkb-footer .menu-item.menu-item-main {
  color: var(--pkb-primary-green) !important;
  font-weight: 600;
}

.pkb-footer .f-row {
  display: flex;
  align-items: center;
}

/* Footer dark mode styles */
.dark .pkb-footer {
  background: #111827;
  border-top: 3px solid var(--pkb-primary-green);
  box-shadow: 0px 2px 10px rgba(33, 145, 151, 0.5);
}

.dark .pkb-footer .menu a,
.dark .pkb-footer .menu a:visited {
  color: #e5e7eb !important;
}

.dark .pkb-footer .menu a:hover {
  color: var(--pkb-secondary-green) !important;
}

.dark .pkb-footer .menu-item.menu-item-main {
  color: var(--pkb-primary-green) !important;
}

.dark .pkb-footer div {
  color: #e5e7eb;
}

/* Dark logo variant - add this if you have a white version of your logo for dark mode */
.dark .pkb-footer .dark-mode-logo {
  display: block;
}

.dark .pkb-footer .light-mode-logo {
  display: none;
}

.pkb-footer .dark-mode-logo {
  display: none;
}

.pkb-footer .light-mode-logo {
  display: block;
}

/* Responsive styles for footer */
@media (max-width: 768px) {
  .pkb-footer .menu {
    flex-wrap: wrap;
    justify-content: center;
  }

  .pkb-footer .f-row {
    flex-direction: column;
    text-align: center;
  }
}
/* Mobile responsiveness for header */

/* Base mobile styles for the header */
@media (max-width: 1024px) {
  .pkb-nav {
    padding: 5px 10px 0;
  }

  .pkb-nav .topmenu {
    gap: 5px;
  }

  .pkb-nav .topmenu-item {
    font-size: 11px;
    padding: 5px 5px;
  }
}

/* Tablet styles */
@media (max-width: 768px) {
  .pkb-nav {
    flex-direction: column;
    padding-bottom: 10px;
  }

  .pkb-nav .menu-wrapper {
    width: 100%;
    align-items: center;
  }

  .pkb-nav .topmenu {
    justify-content: center;
    flex-wrap: wrap;
  }

  .pkb-nav .menu {
    justify-content: center;
    flex-wrap: wrap;
  }

  .pkb-nav .main-menu-items:after {
    display: none;
  }

  .pkb-nav .menu-item-wrapper .submenu {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    width: 100%;
    max-width: 250px;
  }

  .pkb-nav .pkb-beta {
    position: static;
    margin: 10px auto 0;
  }
}

/* Mobile styles */
@media (max-width: 640px) {
  .pkb-nav {
    padding: 10px 5px;
  }

  .pkb-nav .logo {
    margin-bottom: 10px;
  }

  .pkb-nav .menu {
    gap: 5px;
  }

  .pkb-nav .menu-item {
    padding: 5px 5px;
    font-size: 13px;
  }

  /* Create a mobile menu toggle button */
  /* Create a mobile menu toggle button - hidden by default */
  .mobile-menu-toggle {
    display: none; /* Hide by default on larger screens */
    margin: 0 auto 10px;
    padding: 5px 10px;
    background-color: var(--pkb-primary-green);
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }

  /* Only show on mobile screens */
  @media (max-width: 640px) {
    .mobile-menu-toggle {
      display: block; /* Show on mobile screens */
    }
  }
  /* Hide the menu by default on mobile */
  .mobile-menu-closed .menu-wrapper {
    display: none;
  }

  /* Full-width submenu for better touch targets */
  .pkb-nav .submenu {
    position: static;
    width: 100%;
    border-radius: 0;
    padding: 5px;
  }

  .pkb-nav .submenu-item {
    padding: 8px 0;
    text-align: center;
  }
}

/* Small screen styles */
@media (max-width: 480px) {
  .pkb-nav .menu {
    flex-direction: column;
    align-items: center;
    width: 100%;
  }

  .pkb-nav .menu-item-wrapper {
    width: 100%;
    text-align: center;
  }

  .pkb-nav .main-menu-items {
    flex-direction: column;
    width: 100%;
    padding-right: 0;
  }
}
/* Mobile responsiveness for footer */

/* Base styles for tablet */
@media (max-width: 768px) {
  .pkb-footer {
    padding: 30px 15px;
  }

  .pkb-footer .menu {
    flex-wrap: wrap;
    justify-content: center;
    gap: 15px;
  }

  .pkb-footer .f-row {
    flex-wrap: wrap;
    justify-content: center;
    text-align: center;
    gap: 15px;
  }
}

/* Mobile styles */
@media (max-width: 640px) {
  .pkb-footer {
    padding: 20px 10px;
    gap: 25px;
  }

  .pkb-footer .menu {
    flex-direction: column;
    align-items: center;
    gap: 20px;
  }

  .pkb-footer .menu-item-wrapper {
    width: 100%;
    align-items: center;
  }

  .pkb-footer .submenu {
    align-items: center;
    margin-top: 5px;
  }

  .pkb-footer .f-row {
    flex-direction: column;
    gap: 15px;
  }

  .pkb-footer .f-row div {
    font-size: 14px;
  }
}

/* Small screen styles */
@media (max-width: 480px) {
  .pkb-footer {
    padding: 15px 5px;
  }

  .pkb-footer .menu-item {
    font-size: 16px; /* Larger text for better touch targets */
  }

  .pkb-footer a.submenu-item {
    padding: 5px 0;
    font-size: 14px;
  }
}
